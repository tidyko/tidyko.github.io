<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  
  <title>
    
    Tidy的个人博客
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Tidy的个人博客">
<meta property="og:url" content="https://www.tidyko.com/page/2/index.html">
<meta property="og:site_name" content="Tidy的个人博客">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tidy的个人博客">
  
  <link rel="alternate" href="/atom.xml" title="Tidy的个人博客" type="application/atom+xml">
  
  
  <link rel="icon" href="/favicon.ico">
  
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- <link rel="stylesheet" href="/plugin/bganimation/bg.css"> -->
  

  
<!-- Google Adsense -->
<!-- <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script> -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-1522837637326007",
        enable_page_level_ads: true
    });
</script>

<script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
<!-- End Google Adsense -->

</head>
<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="http://img.tidyko.com/avatar.jpg">
    <h2 class="author"></h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>157</strong><br>文章</div></a>
      <a href="/categories"><div><strong>56</strong><br>分类</div></a>
      <a href="/tags"><div><strong>115</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-小程序 Banner以及激励式视频广告总结" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/9ecafb15.html" class="article-date">
  <time class="post-time" datetime="2019-04-23T02:18:00.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">23</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/9ecafb15.html">小程序 Banner以及激励式视频广告总结</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/运营/">运营</a>,<a class="article-category-link" href="/categories/运营/小程序/">小程序</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/9ecafb15.html" class="leancloud_visitors" data-flag-title="小程序 Banner以及激励式视频广告总结">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 394</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 1 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <p>当小程序累计用户超过1000之后即可申请开通流量主功能，</p>
<p><img src="http://img.tidyko.com/blog/mp_llz_1.png" alt=""></p>
      
      <p class="article-more-link">
        <a href="/posts/9ecafb15.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/9ecafb15.html" data-id="ck4jawqhe00edx4qpywgimcpg" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/小程序/">小程序</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/广告/">广告</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/运营/">运营</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-Logback 问题点总结" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/5861f454.html" class="article-date">
  <time class="post-time" datetime="2019-04-18T06:32:00.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">18</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/5861f454.html">Logback 问题点总结</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程语言/">编程语言</a>,<a class="article-category-link" href="/categories/编程语言/Java/">Java</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/5861f454.html" class="leancloud_visitors" data-flag-title="Logback 问题点总结">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 2,181</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 8 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <p><a href="https://github.com/qos-ch/logback" target="_blank" rel="noopener">Logback</a> 与 <a href="https://github.com/apache/log4j" target="_blank" rel="noopener">Log4j</a> 一样都是基于 <a href="https://github.com/qos-ch/slf4j" target="_blank" rel="noopener">slf4j</a> 的日志实现框架，但前者较后者后者更多的性能优势因而被作为Log4j的替代品被广泛进行使用。</p>
<p>本次我们就来简单总结一下Logback常见的一些问题：</p>
<h1 id="1-工作原理"><a href="#1-工作原理" class="headerlink" title="1.工作原理"></a>1.工作原理</h1><p>先看一张图：</p>
<p><img src="http://img.tidyko.com/blog/logback-2.png" alt=""></p>
<p>当调用logger.trace/debug/info/warn/error()时</p>
      
      <p class="article-more-link">
        <a href="/posts/5861f454.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/5861f454.html" data-id="ck4jawqeo008xx4qp9lk83wb4" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Logback/">Logback</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-Java ThreadPoolExcutor" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/fa8b02cc.html" class="article-date">
  <time class="post-time" datetime="2019-04-17T03:03:00.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">17</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/fa8b02cc.html">Java ThreadPoolExcutor</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程语言/">编程语言</a>,<a class="article-category-link" href="/categories/编程语言/Java/">Java</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/fa8b02cc.html" class="leancloud_visitors" data-flag-title="Java ThreadPoolExcutor">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 4,322</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 20 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <p>我们先打开<code>java.util.concurrent.ThreadPoolExecutor</code>类，看下它的文档注释，大概了解一下它的作用。<br>我们可以了解到该类主要作用是进行线程池的创建，然后我们继续看到下面这一段描述</p>
<pre><code>To be useful across a wide range of contexts, this class provides many adjustable parameters and extensibility hooks. However, programmers are urged to use the more convenient Executors factory methods Executors.newCachedThreadPool() (unbounded thread pool, with automatic thread reclamation), Executors.newFixedThreadPool(int) (fixed size thread pool) and Executors.newSingleThreadExecutor() (single background thread), that preconfigure settings for the most common usage scenarios. Otherwise, use the following guide when manually configuring and tuning this class:
</code></pre><p>大概就是说为了更加方便使用，该类提供了手动配置以及调优的方法，不过一般比较推荐<code>java.util.concurrent.Executors</code>类的工厂方法进行创建线程池，它可以创建  </p>
      
      <p class="article-more-link">
        <a href="/posts/fa8b02cc.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/fa8b02cc.html" data-id="ck4jawqem008tx4qpp8ho3k0z" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/线程池/">线程池</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-小程序 语法小程序用户量破千啦！" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/5e551b83.html" class="article-date">
  <time class="post-time" datetime="2019-04-12T04:14:00.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">12</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/5e551b83.html">小程序 语法小程序用户量破千啦！</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/运营/">运营</a>,<a class="article-category-link" href="/categories/运营/小程序/">小程序</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/5e551b83.html" class="leancloud_visitors" data-flag-title="小程序 语法小程序用户量破千啦！">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 256</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 1 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <p>“日语语法库”小程序自2019-03-28上线以来到今天2019-04-12刚好两个星期，刚好用户量破千，可以申请流量主进行营收了，做一下总结。</p>
<ol>
<li>总结一下语法小程序两个星期以来的数据。</li>
<li>总结一下为什么相比之前两个小程序，语法小程序能带来更多的用户量以及流量稳定增长。
      
      <p class="article-more-link">
        <a href="/posts/5e551b83.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/5e551b83.html" data-id="ck4jawqhc00ebx4qpo0q2f11h" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/小程序/">小程序</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/运营/">运营</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-IDEA 使用Cloud Toolkit内置Arthas快速进行服务器诊断" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/41a66ecb.html" class="article-date">
  <time class="post-time" datetime="2019-04-12T02:58:00.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">12</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/41a66ecb.html">IDEA 使用Cloud Toolkit内置Arthas快速进行服务器诊断</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发调试工具/">开发调试工具</a>,<a class="article-category-link" href="/categories/开发调试工具/IDEA/">IDEA</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/41a66ecb.html" class="leancloud_visitors" data-flag-title="IDEA 使用Cloud Toolkit内置Arthas快速进行服务器诊断">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 484</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 2 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.aliyun.com/product/cloudtoolkit?spm=arthas-site.0.0.0" target="_blank" rel="noopener">Cloud Toolkit</a><br>Alibaba Cloud Toolkit 是一款IDE 插件，帮助开发者更高效地开发、测试、诊断并部署应用。<br>利用此，开发者能够方便地将本地应用一键部署到任意机器，或 ECS、EDAS、Kubernetes；<br>并内置 Arthas 诊断、高效执行终端命令和 SQL 等。</p>
<p><a href="https://github.com/alibaba/arthas" target="_blank" rel="noopener">Arthas</a><br>Arthas 是Alibaba开源的Java诊断工具。</p>
<p><a href="https://github.com/alibaba/arthas/issues/570" target="_blank" rel="noopener">使用Cloud Toolkit内置Arthas进行远程诊断</a><br>通过Cloud Toolkit插件使用Arthas一键诊断远程服务器<br>
      
      <p class="article-more-link">
        <a href="/posts/41a66ecb.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/41a66ecb.html" data-id="ck4jawqch003ux4qpxd2nbbml" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Arthas/">Arthas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cloud-Toolkit/">Cloud Toolkit</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IDEA/">IDEA</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-Logback totalSizeCap不生效" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/589711b0.html" class="article-date">
  <time class="post-time" datetime="2019-04-03T01:49:00.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">03</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/589711b0.html">Logback totalSizeCap不生效</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程语言/">编程语言</a>,<a class="article-category-link" href="/categories/编程语言/Java/">Java</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/589711b0.html" class="leancloud_visitors" data-flag-title="Logback totalSizeCap不生效">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 712</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 3 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>项目使用logback作为日志管理框架。</p>
<p><a href="https://github.com/qos-ch/logback" target="_blank" rel="noopener">logback project</a></p>
<p><a href="https://logback.qos.ch/index.html" target="_blank" rel="noopener">logback index</a></p>
<p><a href="https://jira.qos.ch/projects/LOGBACK/issues/" target="_blank" rel="noopener">logback issues</a></p>
<p>这几天发现线上的info日志文件，总大小超过了设定阈值，仍然没删除掉旧文件，但是error日志却如期删除了。<br>info级别的日志，totalSizeCap为5G</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">        $&#123;logger.path&#125;/info.%d&#123;yy-MM-dd&#125;.%i.log</span><br><span class="line">    <span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>6<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>1GB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">totalSizeCap</span>&gt;</span>5GB<span class="tag">&lt;/<span class="name">totalSizeCap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>error级别的日志，totalSizeCap为2G</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">         $&#123;logger.path&#125;/error.%d&#123;yy.MM.dd&#125;.%i.log</span><br><span class="line">    <span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>6<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>1GB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">totalSizeCap</span>&gt;</span>2GB<span class="tag">&lt;/<span class="name">totalSizeCap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>经过排查发现是使用的版本刚好有一个这样的bug所导致的。<br>
      
      <p class="article-more-link">
        <a href="/posts/589711b0.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/589711b0.html" data-id="ck4jawqep008zx4qphu9jdo7v" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Logback/">Logback</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-Mpvue中使用vant-weapp组件库" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/62bac17f.html" class="article-date">
  <time class="post-time" datetime="2019-03-27T02:38:00.000Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">27</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/62bac17f.html">mpvue中使用vant-weapp组件库</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程语言/">编程语言</a>,<a class="article-category-link" href="/categories/编程语言/Vue/">Vue</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/62bac17f.html" class="leancloud_visitors" data-flag-title="mpvue中使用vant-weapp组件库">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 549</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 2 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <h1 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h1><p>使用mpvue构建编译小程序，vant-weapp组件库作为页面组件，做一些记录。</p>
<p><a href="https://github.com/Meituan-Dianping/mpvue" target="_blank" rel="noopener">mpvue</a><br><a href="https://github.com/youzan/vant-weapp" target="_blank" rel="noopener">vant-weapp</a></p>
<h1 id="二、使用"><a href="#二、使用" class="headerlink" title="二、使用"></a>二、使用</h1><h2 id="复制编译文件"><a href="#复制编译文件" class="headerlink" title="复制编译文件"></a>复制编译文件</h2><p>按照mpvue官方（<a href="http://mpvue.com/mpvue/quickstart/" target="_blank" rel="noopener">五分钟上手教程 </a>）初始化mpvue项目,进入到项目根目录安装vant-weapp依赖<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vant-weapp -S --production</span><br></pre></td></tr></table></figure></p>
<p>安装完毕之后，在<code>node_modules</code>目录下找到<code>vant-weapp</code>将<code>dist</code>下面的所有文件复制到你项目的<code>/static/vant/</code>目录下。</p>
<h2 id="引入组件"><a href="#引入组件" class="headerlink" title="引入组件"></a>引入组件</h2><p>在<code>app.json</code>下加入<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"usingComponents": &#123;</span><br><span class="line">    "van-search": "/static/vant/button/index"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="使用组件"><a href="#使用组件" class="headerlink" title="使用组件"></a>使用组件</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">van-button</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">van-button</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
      <p class="article-more-link">
        <a href="/posts/62bac17f.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/62bac17f.html" data-id="ck4jawqfa00aax4qpslx79rsb" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/">Vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mpvue/">mpvue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vant-weapp/">vant-weapp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/小程序/">小程序</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-GitHubPage 搭建项目主页的一些问题" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/a4e1109a.html" class="article-date">
  <time class="post-time" datetime="2019-03-13T07:04:00.000Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">13</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/a4e1109a.html">GitHubPage 搭建项目主页的一些问题</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/网站/">网站</a>,<a class="article-category-link" href="/categories/网站/GitHub/">GitHub</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/a4e1109a.html" class="leancloud_visitors" data-flag-title="GitHubPage 搭建项目主页的一些问题">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 343</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 1 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <p>在将Vue的编译静态文件上传至GitHub仓库，作为项目主页进行访问的过程中遇到了一些问题，记录一下。</p>
<h2 id="1-Vue的基础路径问题"><a href="#1-Vue的基础路径问题" class="headerlink" title="1.Vue的基础路径问题"></a>1.Vue的基础路径问题</h2><p>生成静态页后，想放到GitHub作为项目主页，路径需要设置为”./“</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  baseUrl: <span class="string">"./"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="2-将Vue项目编译完成后的dist上传至GitHub仓库"><a href="#2-将Vue项目编译完成后的dist上传至GitHub仓库" class="headerlink" title="2.将Vue项目编译完成后的dist上传至GitHub仓库"></a>2.将Vue项目编译完成后的dist上传至GitHub仓库</h2><p>将Vue项目进行<code>npm run build</code>之后，将dist的文件全部上传至新建的项目主页仓库。</p>
<h2 id="3-在已有个人主页后，创建项目主页"><a href="#3-在已有个人主页后，创建项目主页" class="headerlink" title="3.在已有个人主页后，创建项目主页"></a>3.在已有个人主页后，创建项目主页</h2><p>如果之前创建过GitHub个人主页，并设置过个性域名，则项目主页不需要上传CNAME文件，直接将静态文件上传至仓库即可。<br>
      
      <p class="article-more-link">
        <a href="/posts/a4e1109a.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/a4e1109a.html" data-id="ck4jawqbu002ux4qpuu2hsh0m" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GitHub/">GitHub</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GitHubPage/">GitHubPage</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-Grafana Variables变量使用" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/8ca969bc.html" class="article-date">
  <time class="post-time" datetime="2019-03-11T08:51:00.000Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">11</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/8ca969bc.html">Grafana Variables变量使用</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/中间件/">中间件</a>,<a class="article-category-link" href="/categories/中间件/Grafana/">Grafana</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/8ca969bc.html" class="leancloud_visitors" data-flag-title="Grafana Variables变量使用">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 309</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 1 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <p>使用Grafana对Elasticsearch数据进行展示时，可使用变量来对一个图表进行动态传参操作，下面我们就来简单了解一下怎么使用吧。</p>
<p><img src="http://img.tidyko.com/blog/grafana_-1.png" alt=""></p>
<h2 id="1-选择需要添加变量的仪表盘"><a href="#1-选择需要添加变量的仪表盘" class="headerlink" title="1.选择需要添加变量的仪表盘"></a>1.选择需要添加变量的仪表盘</h2><pre><code>1.1. 进入Grafana主页后选择左侧侧边栏
1.2. 选择`Dashboards` -&gt; `home`进入仪表盘主页
1.3. 选择需要添加变量的仪表盘点击进入。
</code></pre>
      
      <p class="article-more-link">
        <a href="/posts/8ca969bc.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/8ca969bc.html" data-id="ck4jawqc9003jx4qpfr9jlplo" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ELK/">ELK</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Grafana/">Grafana</a></li></ul>

    </footer>
  </div>
  
</article>













  
    <article id="post-Logstash 使用tcpinput" class="article" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/1fedb9b.html" class="article-date">
  <time class="post-time" datetime="2019-03-06T06:58:00.000Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">06</span>
  </time>
</a>

  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/1fedb9b.html">Logstash 使用tcpinput</a>
    </h1>
  

      <div>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/中间件/">中间件</a>,<a class="article-category-link" href="/categories/中间件/LogStash/">LogStash</a>
  </div>

        
        
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/posts/1fedb9b.html" class="leancloud_visitors" data-flag-title="Logstash 使用tcpinput">
      阅读次数 <span class="leancloud-visitors-count"></span>
    </span>
  </div>



  &nbsp; | &nbsp;
  <div class="view-box">
    <span>字数 1,034</span>
  </div>
  &nbsp; | &nbsp;
  <div class="view-box">
    <span>时长 ≈ 6 分钟</span>
  </div>
 
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <p>之前使用的架构为：<code>项目日志</code> -&gt; <code>Filebeat</code> -&gt; <code>redis</code> -&gt; <code>Logstash</code> -&gt; <code>ElasticSearch</code> -&gt; <code>Kibana</code><br>如果使用TCP input的话就可以简化为这样：<code>项目</code> -&gt; <code>Logstash</code> -&gt; <code>ElasticSearch</code> -&gt; <code>Kibana</code><br>这样可以少去每台服务器上面FileBeat的维护。</p>
<p>项目日志格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">19-03-06 12:17:12 INFO http-nio-8080-exec-3 cn.xxx.xxx.xxx.xxx.XXXUtils.call(246) | request(&lt;?xml version=&quot;1.0&quot; encoding=&quot;GB2312&quot;?&gt;&lt;SendData&gt;xxx&lt;/SendData&gt;)</span><br><span class="line">19-03-06 12:17:12 INFO http-nio-8080-exec-3 cn.xxx.xxx.xxx.xxx.XXX.getResultSet2015(34) | api_monitor ---&gt; platform=p1, name=n1, tget=666</span><br></pre></td></tr></table></figure></p>
      
      <p class="article-more-link">
        <a href="/posts/1fedb9b.html#more">
          Read More</a>
      </p>
      
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.tidyko.com/posts/1fedb9b.html" data-id="ck4jawqet009ax4qpnddw92ke" class="article-share-link">
        分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ELK/">ELK</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LogStash/">LogStash</a></li></ul>

    </footer>
  </div>
  
</article>













  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; pre</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/3/">next &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">Tidy的个人博客</h1>
    <h2 class="blog-subtitle">人生とは好きな人と一緒に過ごした日々だ!</h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="http://img.tidyko.com/avatar.jpg">
    <h2 class="author">
      
    </h2>
    <h3 class="description">
      
    </h3>
    <div class="count-box">
      <a href="/archives">
        <div><strong>
            157</strong><br>文章</div>
      </a>
      <a href="/categories">
        <div><strong>
            56</strong><br>分类</div>
      </a>
      <a href="/tags">
        <div><strong>
            115</strong><br>标签</div>
      </a>
    </div>



    <div class="social-link">
      
      <a class="hvr-bounce-in" href="https://github.com/tidyko" target="_blank" title="Github">
        Github
      </a>
      
    </div>

    <div class="friend-link">
      <h2>
        友情链接
      </h2>
      
      <a class="hvr-bounce-in" href="https://blog.yl-online.top" target="_blank" title="forever杨">
        forever杨
      </a>
      
      <a class="hvr-bounce-in" href="https://blog.dclog.cn/" target="_blank" title="DengCong">
        DengCong
      </a>
      
      <a class="hvr-bounce-in" href="https://17363959606.github.io/" target="_blank" title="静静同学">
        静静同学
      </a>
      
      <a class="hvr-bounce-in" href="https://copasters.github.io/" target="_blank" title="ChenYuan">
        ChenYuan
      </a>
      
    </div>
  </div>
</div>
  
    <div class="widget-wrap">
    <h3 class="widget-title">关注我的公众号：</h3>
    <div class="widget"><img style="width:100%" src="http://img.tidyko.com/japanesehub-qrcode.jpg">
    </div>
</div>
  
    <div class="widget-wrap">
    <h3 class="widget-title"></h3>
    <!-- left-ad-1 -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1522837637326007" data-ad-slot="1201221679"
        data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2018 - 2019 Tidy的个人博客<br>
      <!-- 由<a href="https://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a> -->
      
        <br>
        <!-- <script src="https://s19.cnzz.com/z_stat.php?id=1274390271&web_id=1274390271" language="JavaScript" rel="noreferrer"></script>       -->
        <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1274390271'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1274390271%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>
      
    </div>
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  <link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
  <script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>



  <!-- <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section> -->
<script src="/js/script.js"></script>




  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("DpQHavrF6hdX8C8q7ONib5Qv-gzGzoHsz", "CFNVYUb4rtTjkji3Erv4ROA7");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.article-title').length > 1) {
        showTime(Counter);
      }
    });
  </script>





<div id="totop" style="position:fixed;bottom:160px;right:50px;cursor: pointer;z-index: 10;">
    <a title="返回顶部"><img src="/images/scrollup.png" style="width:50px;height:50px;"/></a>
</div>
<script src="/js/totop.js"></script>
  </div>
</body>
</html>